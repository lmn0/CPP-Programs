#include<all.h>
#include<fstream.h>
#include<math.h>
#include<time.h>
union REGS in,out;

       int callmouse()
       {
	     in.x.ax=1;
	     int86(51,&in,&out);
	     return 1;
       }
       void mouseposi(int &xpos,int &ypos,int &click)
       {
	     in.x.ax=3;
	     int86(51,&in,&out);
	     click=out.x.bx;
	     xpos=out.x.cx;
	     ypos=out.x.dx;
        }
       int mousehide()
       {
	     in.x.ax=2;
	     int86(51,&in,&out);
	     return 1;
       }
      void setposi(int &xpos,int &ypos)
      {
	    in.x.ax=4;
	    in.x.cx=xpos;
	    in.x.dx=ypos;
	    int86(51,&in,&out);
      }
	void restrictmouseptr(int x1,int y1,int x2,int y2)
	 {
	        in.x.ax=7;
	        in.x.cx=x1;
	        in.x.dx=x2;
	        int86(51,&in,&out);
	        in.x.ax=8;
	        in.x.cx=y1;
	        in.x.dx=y2;
	        int86(51,&in,&out);
	 }

int chk1=1;

void load()
{
int i,ti,ste,tste;
settextstyle(TRIPLEX_FONT,0,5);
setcolor(BROWN);
outtextxy(200,210,"BASICS");
outtextxy(200,210,"SPEED");
outtextxy(200,210,"GAME");
outtextxy(200,210,"EXIT");
arc(250,250,-240+180,-90+180,100);
settextstyle(TRIPLEX_FONT,0,4);
for(ste=0;ste<=720;ste++)
{
setcolor(ste);
outtextxy(200,210,"Loading");
setcolor(BLACK);arc(250,250,-240+180+tste,-90+180+tste,100);setcolor(YELLOW);arc(250,250,-240+180+ste,-90+180+ste,100);delay(2);tste=ste;
}
}

void help()
{ cleardevice();
setbkcolor(RED);
settextstyle(4,0,2);
setcolor(BLUE);
outtextxy(250,50,"HELP");
settextstyle(4,0,1);
outtextxy(10,100,"In this speed testing level we give you a passage to type.");
outtextxy(10,130,"The untyped letters are in white colour. When you type a   ");
outtextxy(10,160,"letter the colour of the letter changes to green if the   ");
outtextxy(10,190,"letter typed is wrong then the colour changes to red. In  ");
outtextxy(10,220,"case of new line you need not press enter button to go to ");
outtextxy(10,250,"next line. As soon as the screen comes the clock starts   ");
outtextxy(10,280,"ticking so you must start typing as soon as the screen ap-");
outtextxy(10,310,"pears. Hope you'll enjoy the test!!!");
getch();
cleardevice();
}

int addnew();
void convert(int yu,char c2[])
{
int er;

for(er=3;er>=0;er--)
{
switch(yu%10)
{
case 0:c2[er]='0';break;
case 1:c2[er]='1';break;
case 2:c2[er]='2';break;
case 3:c2[er]='3';break;
case 4:c2[er]='4';break;
case 5:c2[er]='5';break;
case 6:c2[er]='6';break;
case 7:c2[er]='7';break;
case 8:c2[er]='8';break;
case 9:c2[er]='9';break;
}
yu=yu/10;
}                   c2[4]='\0';

}

void menu(int &s,int &ts)
{
int style=1;
switch(s)
{
case 0:
switch(ts)
{
case 1:
settextstyle(style, HORIZ_DIR,2);
setcolor(GREEN);
outtextxy(343,170,"2.GAME");
setcolor(BROWN);
settextstyle(style, HORIZ_DIR,5);
outtextxy(200,210,"GAME");
break;
case 2:
settextstyle(style, HORIZ_DIR,2);
setcolor(MAGENTA);
outtextxy(360,230,"3.SPEED");
setcolor(BROWN);
settextstyle(style, HORIZ_DIR,5);
outtextxy(200,210,"SPEED");
break;
case 3:
settextstyle(style, HORIZ_DIR,2);
setcolor(CYAN);
outtextxy(330,305,"4.EXIT");
settextstyle(style, HORIZ_DIR,5);
setcolor(BROWN);
outtextxy(200,210,"EXIT");
break;
}
settextstyle(style, HORIZ_DIR,5);
setcolor(YELLOW);
outtextxy(200,210,"BASICS");
setcolor(YELLOW);
settextstyle(style, HORIZ_DIR,2);
outtextxy(280,120,"1.BASICS");ts=-1;
break;
case 1:
switch(ts)
{
case 0:
settextstyle(style, HORIZ_DIR,2);
setcolor(BLUE);
outtextxy(280,120,"1.BASICS");
setcolor(BROWN);
settextstyle(style, HORIZ_DIR,5);
outtextxy(200,210,"BASICS");
break;
case 2:
settextstyle(style, HORIZ_DIR,2);
setcolor(MAGENTA);
outtextxy(360,230,"3.SPEED");
setcolor(BROWN);
settextstyle(style, HORIZ_DIR,5);
outtextxy(200,210,"SPEED");
break;
case 3:
settextstyle(style, HORIZ_DIR,2);
setcolor(CYAN);
outtextxy(330,305,"4.EXIT");
settextstyle(style, HORIZ_DIR,5);
setcolor(BROWN);
outtextxy(200,210,"EXIT");
break;
}
settextstyle(style, HORIZ_DIR,2);
setcolor(YELLOW);
outtextxy(343,170,"2.GAME");
setcolor(YELLOW);
settextstyle(style, HORIZ_DIR,5);
outtextxy(200,210,"GAME");ts=-1;
break;
case 2:
switch(ts)
{
case 0:
settextstyle(style, HORIZ_DIR,2);
setcolor(BLUE);
outtextxy(280,120,"1.BASICS");
setcolor(BROWN);
settextstyle(style, HORIZ_DIR,5);
outtextxy(200,210,"BASICS");
break;
case 1:
settextstyle(style, HORIZ_DIR,2);
setcolor(GREEN);
outtextxy(343,170,"2.GAME");
setcolor(BROWN);
settextstyle(style, HORIZ_DIR,5);
outtextxy(200,210,"GAME");
break;
case 3:
settextstyle(style, HORIZ_DIR,2);
setcolor(CYAN);
outtextxy(330,305,"4.EXIT");
setcolor(BROWN);
settextstyle(style, HORIZ_DIR,5);
outtextxy(200,210,"EXIT");
break;
}
settextstyle(style, HORIZ_DIR,2);
setcolor(YELLOW);
outtextxy(360,230,"3.SPEED");
setcolor(YELLOW);
settextstyle(style, HORIZ_DIR,5);
outtextxy(200,210,"SPEED");ts=-1;
break;
case 3:
switch(ts)
{
case 0:
settextstyle(style, HORIZ_DIR,2);
setcolor(BLUE);
outtextxy(280,120,"1.BASICS");
setcolor(BROWN);
settextstyle(style, HORIZ_DIR,5);
outtextxy(200,210,"BASICS");
break;
case 1:
settextstyle(style, HORIZ_DIR,2);
setcolor(GREEN);
outtextxy(343,170,"2.GAME");
setcolor(BROWN);
settextstyle(style, HORIZ_DIR,5);
outtextxy(200,210,"GAME");
break;
case 2:
settextstyle(style, HORIZ_DIR,2);
setcolor(MAGENTA);
outtextxy(360,230,"3.SPEED");
setcolor(BROWN);
settextstyle(style, HORIZ_DIR,5);
outtextxy(200,210,"SPEED");
break;
}
settextstyle(style, HORIZ_DIR,2);
setcolor(YELLOW);
outtextxy(330,305,"4.EXIT");
setcolor(YELLOW);
settextstyle(style, HORIZ_DIR,5);
outtextxy(200,210,"EXIT");ts=-1;

break;
}

}

int speed()
{


cleardevice();ifstream ifile;int i=0,x=10,y=50,sum=0,h;

d:x=10;y=50;
clrscr();cleardevice();setbkcolor(BLACK);
randomize();
h=rand()%3+1;

switch(h)
{
case 1:ifile.open("c:\\tc\\XII\\proj\\speed1.txt");break;
case 2:ifile.open("c:\\tc\\XII\\proj\\speed2.txt");break;
case 3:ifile.open("c:\\tc\\XII\\proj\\speed3.txt");break;
}

char ch,m,b[2];
setbkcolor(BLACK);
setcolor(RED);
settextstyle(3,0,3);
outtextxy(150,10,"SPEED TESTING");
setcolor(GREEN);
settextstyle(1,0,2);
outtextxy(400,400,"Press * for Help");
outtextxy(400,380,"Press Esc to Exit");

setcolor(MAGENTA);
line(1,45,465,45);
line(1,45,1,300);
line(1,300,465,300);
line(465,45,465,300);

setcolor(WHITE);
while(1)
{if(x==460)
{x=10;y+=10;}
ch=ifile.get();

b[0]=ch;b[1]='\0';settextstyle(2,0,0);

if(ch=='\n')
{y+=10;x=10;}
if(ch=='*')
break;
outtextxy(x,y,b);
x+=10;

i++;
}

x=10;y=50;
ifile.close();
i=0;

switch(h)
{
case 1:ifile.open("c:\\tc\\XII\\proj\\speed1.txt");break;
case 2:ifile.open("c:\\tc\\XII\\proj\\speed2.txt");break;
case 3:ifile.open("c:\\tc\\XII\\proj\\speed3.txt");break;
}

clock_t start, end;   ch='r';

start = clock();

while(1)
{
i++;
ch=ifile.get();
m=getch();
if(m==ch)
{
setcolor(GREEN);
b[0]=ch;b[1]='\0';settextstyle(2,0,0);
outtextxy(x,y,b); sum++;
}

if(m!=ch)
{
setcolor(RED); b[0]=ch;b[1]='\0';
outtextxy(x,y,b);
}
if(ch=='*')
break;

if(m=='\n' || ch=='\n')
{x=10;y+=10;}
x+=10;

if(x==460)
{x=10;y+=10;}

if(m==27)
return 0;

if(m=='*')
{ifile.close();cleardevice();
help();  setbkcolor(BLACK);
goto d;
}

}
end = clock();

//speed.
  cleardevice();setbkcolor(BLACK);
float g;
g=(float)((end-start-2)/CLK_TCK)/60.0;

/*for(i=0;i<=3;i++)
{setbkcolor(i);delay(300);}*/




cleardevice();
setbkcolor(MAGENTA);
setcolor(RED);
		     char cr[4],ex;
settextstyle(4,0,3);
outtextxy(50,20,"SPEED TESTING");
setcolor(BLUE);
settextstyle(1,0,1);
outtextxy(10,90,"Your typing speed is :");
convert((int)sum/g,cr);
outtextxy(300,90," Letters per minute");
outtextxy(250,90,cr);
while(1)
{
if(kbhit()!=0)
ex=getch();
if(ex==13)
break;
}  ifile.close();
return 0;
}
char helpg()
{
cleardevice();
settextstyle(4,0,1);
setcolor(BLUE);
setbkcolor(MAGENTA);
outtextxy(300,50,"HELP");
setcolor(RED);
outtextxy(10,100,"In this game you are supposed to type the word without ");
outtextxy(10,120,"making mistake before it hits the ground. If you type a");
outtextxy(10,140,"wrong letter that particular letter will become red and");
outtextxy(10,160,"you will have to type that letter inorder to move forward");
outtextxy(10,180,"Each time you blast a word you get points. If you blast 5");
outtextxy(10,200,"words continously you will get bonus point.");
getch();
cleardevice(); setbkcolor(BLACK);
settextstyle(4,0,1);
setcolor(BLUE);
setfillstyle(SOLID_FILL,RED);
outtextxy(250,50,"GAME");
setcolor(CYAN);
outtextxy(220,430,"Press * for help");
outtextxy(220,450,"Press Esc to exit");

setcolor(RED);
bar(90,400,460,405);

line(90,90,90,400);
line(460,90,460,405);
return ' ';
}

int score=0,bonus=0;
class name
{
public:
char buffer[100];
int tot,x,y,k;
name()
{
}

void first()
{tot=0;/*k=1;x=10;y=60;*/}


void accept();
void cal()
{
tot=score+bonus;
}
void disp();

}n,n1[100],m;
void name::disp()
{   setcolor(YELLOW);
char c[3],c2[4];
   settextstyle(3,0,3);
outtextxy(100,10,"Score Board");
       int uj=k;uj=k/10;
switch(uj)
{
case 0:c[0]='0';break;
case 1:c[0]='1';break;
case 2:c[0]='2';break;
case 3:c[0]='3';break;
case 4:c[0]='4';break;
case 5:c[0]='5';break;
case 6:c[0]='6';break;
case 7:c[0]='7';break;
case 8:c[0]='8';break;
case 9:c[0]='9';break;
}
	uj=k%10;
switch(uj)
{
case 0:c[1]='0';break;
case 1:c[1]='1';break;
case 2:c[1]='2';break;
case 3:c[1]='3';break;
case 4:c[1]='4';break;
case 5:c[1]='5';break;
case 6:c[1]='6';break;
case 7:c[1]='7';break;
case 8:c[1]='8';break;
case 9:c[1]='9';break;
}         c[2]='\0';


outtextxy(10,y,c);outtextxy(x+textwidth(c)+30,y,buffer);  convert(tot,c2);outtextxy(x+textwidth(buffer)+textwidth(c)+30+50,y,c2);

}

void name::accept()
{
int width=10;
	int height=10,x=65;
	int cursor=x,i=0;
	char ch;
	int y=40,fore=30,back=BLACK,limit=99;
	buffer[0]='\0';
	setcolor(fore);
	setfillstyle(1,back);

	settextstyle(2,0,7);
	outtextxy(10,10,"Enter your details :");
	outtextxy(10,30,"Name:");


	while(1)
	{
		//If you donot want to diplay a flashing cursor, then remove
		//the kbhit() while loop
		///*
		while(!kbhit())
		{
			setcolor(10);
			line(cursor,y+height,cursor+width,y+height);
			delay(200);
			//clear out a rectangle of widthXheight
			setcolor(back);
			setfillstyle(1,back);
			int a[8];
			a[0]=cursor;
			a[1]=y;
			a[2]=cursor+width;
			a[3]=y;
			a[4]=cursor+width;
			a[5]=y+height+1;
			a[6]=cursor;
			a[7]=y+height+1;
			fillpoly(4,a);
			delay(200);
		}
		//till here*/

		ch=getch();sound(2000);delay(50);nosound();
		if( isprint(ch) )
		{
			if(i<limit)
			{
			buffer[i++]=ch;
			buffer[i]='\0';

			char tempstr[2]={ch,'\0'};

			//If you want to input a password,
			//then replace the above line with:
			//char tempstr[2]={'*','\0'};

			//clear out a rectangle of widthXheight
			setcolor(back);
			setfillstyle(1,back);
			int a[8];
			a[0]=cursor;
			a[1]=y;
			a[2]=cursor+width;
			a[3]=y;
			a[4]=cursor+width;
			a[5]=y+height+1;
			a[6]=cursor;
			a[7]=y+height+1;
			fillpoly(4,a);

			setcolor(fore);
			outtextxy(cursor,y-10,tempstr);
			cursor+=width;
			}
		}
		else if( ch==8 )	//code for Backspace
		{
			if(i>0)
			{
				buffer[--i]='\0';
				cursor-=width;

				//clear out a rectangle of widthXheight
				setcolor(back);
				setfillstyle(1,back);
				int a[8];
				a[0]=cursor;
				a[1]=y;
				a[2]=cursor+width;
				a[3]=y;
				a[4]=cursor+width;
				a[5]=y+height+1;
				a[6]=cursor;
				a[7]=y+height+1;
				fillpoly(4,a);

				setcolor(fore);
			sound(2000);delay(50);nosound();
			}
		}
		else if( ch==13 )	//The Enter key was pressed.
		{			//You can put a similar exit
		   break;		//for Esc key (ch==27)
		}
	}
	setcolor(fore);
	//return buffer;

     }

     void it()
     {

ifstream iifile;
iifile.open("c:\\tc\\XII\\proj\\speed.txt");
  iifile.close();
  iifile.open("c:\\tc\\XII\\proj\\score.txt");
  int jo=0;iifile.seekg(0);
iifile.read((char*)&m,sizeof(m));

while(jo<=m.k)
{
m.disp();
iifile.read((char*)&m,sizeof(m));
jo++;
}
iifile.close();
     }



void scor()
{
ofstream ofile;
ofile.open("c:\\tc\\XII\\proj\\score.txt",ios::app);

n.cal();
n.accept();


ofile.write((char*)&n,sizeof(n));
outtextxy(10,90,"Name saved");delay(600);

ofile.close();

 cleardevice();
				  setbkcolor(BLACK);
it();
}

int game()
{chk1++;
cleardevice();
settextstyle(4,0,2);
settextstyle(4,0,2);
setcolor(GREEN);
setfillstyle(SOLID_FILL,RED);
outtextxy(250,50,"GAME");
settextstyle(4,0,1);
setcolor(CYAN);
outtextxy(220,430,"Press * for help");
outtextxy(220,450,"Press Esc to exit");

setcolor(RED);
bar(90,400,460,405);                             int fl=0;

line(90,90,90,400);
line(460,90,460,405);

ifstream ifile;

ifile.open("c:\\tc\\XII\\proj\\score.txt");
if(ifile.bad()==0)
{n.k++;n.y=n.y+50;n.x=10;}

else
n.first();
ifile.close();

int n=-1,m=0,l=0,x,y=90,tx,ty,tl=-1,flag=0,k=1,ti;

char word[30][20]={"the\0","he\0","yup\0","google\0","msn\0","video\0","tuesday\0","wedness\0","fool\0","kochi\0","delhi\0","mumbai\0","flood\0","search\0","run\0","project\0","theju\0","comp\0","imation\0","europe\0","zeebra\0","bench\0","xmcn.\0","record\0","science\0","physics\0","calculator\0","typingu\0","ideamobile\0","andiejsh\0"},ch=' ',wd[20]={"\0"},er[20];
e: n=-1;
randomize();
l=rand()%30;
x=rand()%300+90;

if(tl==l)
goto e;

settextstyle(7,0,2);


for(y=90;y<=383;y=y+20)
{

if(kbhit()!=0)
{ch=getch();n++;}
settextstyle(7,0,2);

setcolor(BLACK);
outtextxy(tx,ty,word[l]);
setcolor(WHITE);
outtextxy(x,y,word[l]);
tx=x;ty=y;

if(ch==27 || m==30)
{
cleardevice();

setbkcolor(CYAN);
setcolor(RED);
cout<<"\n\n\n\n\n\n                   ";
settextstyle(4,0,1);
outtextxy(50,20,"GAME");
setcolor(BLUE);
settextstyle(1,0,1);  char c4[4];
outtextxy(10,90,"Your score is :");
convert(score+bonus,c4);
outtextxy(200,90,c4);
getch();cleardevice();
scor();getch();

return 0;
}
   settextstyle(7,0,2);

if((ch==word[l][n] && word[l][n]!='\0'))
{
setcolor(GREEN);
wd[n]=ch;
wd[n+1]='\0';
outtextxy(x,y,wd);

if(flag==1)
{
setcolor(RED);
outtextxy(x,y,er);
setcolor(GREEN);
outtextxy(x,y,wd);
}

if(strcmp(wd,word[l])==0)
{
setcolor(BLACK);
outtextxy(x,y,wd); tl=l;
wd[0]='\0';n=-1;flag=0;m++;

if(m==5)
{bonus+=10;k++;m=0;
		        settextstyle(7,0,2);

for(int i=0;i<5;i++)
{
settextstyle(1,0,10-i);
setcolor(GREEN);
outtextxy(120,120,"!!BONUS!!");
delay(500);
ti=i;
setcolor(BLACK);
settextstyle(1,0,10-ti);
outtextxy(120,120,"!!BONUS!!");
}

}

score+=5;
goto e;
}

}

if(ch=='*')
{ch=helpg();goto e;}

if(ch!=word[l][n] && n!=-1)
{

n--;
ch=word[l][n];

//if(flag==0)
{
for(m=0;m<n+1;m++)
er[m]=word[l][m];
er[m]=word[l][n+1];
er[m+1]='\0';
}

setcolor(RED);                      settextstyle(7,0,2);

outtextxy(x,y,er);

if(n!=-1)
{setcolor(GREEN);
outtextxy(x,y,wd);}

flag=1;
}


x=rand()%300+90;
delay(300);
}

cleardevice();

setbkcolor(CYAN);
setcolor(RED);
cout<<"\n\n\n\n\n\n                   ";
settextstyle(4,0,1);
outtextxy(50,20,"GAME");
setcolor(BLUE);
settextstyle(1,0,1);
outtextxy(10,90,"Your score is :");
cout<<score+bonus;
cleardevice();
scor();

getch();
}


void credits()
{
//credits

setbkcolor(BLUE);
settextstyle(5,0,1);
outtextxy(200,90,"CREDITS");

for(int i=0;i<10;i++)
{
settextstyle(3,0,1);
setcolor(i);
outtextxy(40,200,"Project Designer");
outtextxy(40,220,"Thejass Krishnan");
line(40,222,180,222); sound(60*i+500);
delay(500);
}
setcolor(BLUE);
outtextxy(40,200,"Project Designer");
outtextxy(40,220,"Thejass Krishnan");
line(40,222,195,222);

for(i=5;i<15;i++)
{
settextstyle(3,0,1);
setcolor(i);
outtextxy(40,200,"Logic Development");
outtextxy(40,220,"Thejass Krishnan");
line(40,222,195,222);   sound(50*i+500);
delay(500);
}
setcolor(BLUE);
outtextxy(40,200,"Logic Development");
outtextxy(40,220,"Thejass Krishnan");
line(40,222,195,222);

for(i=7;i<17;i++)
{
settextstyle(3,0,1);
setcolor(i);
outtextxy(40,200,"Visual Effects");
outtextxy(40,220,"Thejass Krishnan");
line(40,222,155,222);   sound(50*i+500);
delay(500);
}

setcolor(BLUE);
outtextxy(40,200,"Visual Effects");
outtextxy(40,220,"Thejass Krishnan");
line(40,222,155,222);

for(i=10;i>0;i--)
{
settextstyle(3,0,1);
setcolor(i);
outtextxy(40,200,"Inspiration");
outtextxy(40,220,"Mr. Retna Singh");
line(40,222,125,222);     sound(20*i+400);
delay(500);
}
for(i=0;i<50;i++)
{
setcolor(i);
outtextxy(100,200,"Thank you for using ABC Typing");
delay(200); sound(40*i+200);sound(21*i+300);
}     nosound();
cleardevice();setbkcolor(BLACK);
}
int firstscreen()
{clrscr(); callmouse();
int x,y,i,ma,mq,cl,tx,ty,jo=0;       name n;
randomize();
x:mousehide();cleardevice();callmouse();setposi(420,120);
setbkcolor(BLUE);                restrictmouseptr(0,0,635,350);
for(i=0;i<=600;i++)
{x=rand()%500+10;y=rand()%500+10;setcolor(i);outtextxy(x,y,".");}
setfillstyle(CLOSE_DOT_FILL,GREEN);
bar(30,30,50,50);i=0;
setfillstyle(CLOSE_DOT_FILL,MAGENTA);
bar(30,90,50,110);
setfillstyle(CLOSE_DOT_FILL,CYAN);
bar(30,150,50,170);
setfillstyle(CLOSE_DOT_FILL,CYAN);
bar(30,210,50,230);
settextstyle(0,0,1);
setcolor(RED);
outtextxy(5,60,"ABC Typing");
outtextxy(5,120,"Exit to windows");
outtextxy(5,180,"Game Score Board");
outtextxy(5,240,"Create your Text");
setcolor(GREEN);
outtextxy(5,400,"By Thejass Krishnan XII-B");
while(i==0)
{

mouseposi(ma,mq,cl);
if(ma>30 && mq>30 && mq<50 && ma<50 && cl==1)
{mousehide();clrscr();cleardevice();setbkcolor(BLACK);return(0);}
if(ma>30 && mq>90 && ma<50 && mq<110 && cl==1)
exit(0);
if(ma>30 && mq>210 && ma<50 && mq<230 && cl==1)
{addnew();cl=0;goto x;}
if(ma>30 && mq>150 && ma<50 && mq<170 && cl==1)
{cleardevice();setcolor(YELLOW);
if(chk1==1)
{setcolor(RED);settextstyle(0,0,2);outtextxy(200,200,"No Names stored");getch();goto x;
}
else
{
ifstream ifile; setbkcolor(BLACK);
ifile.open("c:\\tc\\XII\\proj\\score.txt");ifile.read((char*)&n,sizeof(n));
while(jo<=n.k)
{
ifile.read((char*)&n,sizeof(n));
it();
jo++;
}
ifile.close();
getch();
goto x;
}

}
if(cl==2)
{setcolor(RED);outtextxy(ma,mq-20,"Windows XP");tx=ma;ty=mq;setcolor(BLACK);outtextxy(tx,ty-20,"Windows XP");}
}

}
 void main();
int addnew()
{ setbkcolor(BLACK);
cleardevice();
       callmouse();
	       restrictmouseptr(0,0,600,500);

int width=10;
	int height=5,x=65;
	int cursor=x,i=0,ma,mq,cl;
	char ch,buffer[19999],temp[999],loc[500];
	int y=70,fore=30,back=BLUE,limit=19999;
	buffer[0]='\0';
	setcolor(fore);
	setfillstyle(1,back);

	settextstyle(2,0,5);
	 setfillstyle(SOLID_FILL,BLUE);
	bar(50,50,600,400);
	setcolor(RED);
	outtextxy(120,5,"Enter your text");
	setfillstyle(SLASH_FILL,GREEN);
		bar(300,420,310+textwidth("Done")+5,430+textheight("D"));
		setcolor(RED);
		outtextxy(310,420,"Done");


	while(1)
	{
		//If you donot want to diplay a flashing cursor, then remove
		//the kbhit() while loop
		///*
		while(!kbhit())
		{
			mouseposi(ma,mq,cl);

			setcolor(10);
			line(cursor,y+height,cursor+width,y+height);
			delay(200);
			//clear out a rectangle of widthXheight
			setcolor(back);
			setfillstyle(1,back);
			int a[8];
			a[0]=cursor;
			a[1]=y;
			a[2]=cursor+width;
			a[3]=y;
			a[4]=cursor+width;
			a[5]=y+height+1;
			a[6]=cursor;
			a[7]=y+height+1;
			fillpoly(4,a);


			if(cl==1 && ma>=300 && ma<=310+textwidth("Done") && mq>=420 && mq<=430+textheight("D"))
			{mousehide();cleardevice();settextstyle(3,0,2);cout<<"\nEnter the file location for saving : ";gets(loc);ofstream ifile;ifile.open(loc); ifile.write((char*)&buffer,i);ifile.close();main();}


		}
		//till here*/

		ch=getch();
		if( isprint(ch) )
		{
			if(i<limit)
			{
			buffer[i++]=ch;
			buffer[i]='\0';

			char tempstr[2]={ch,'\0'};

			//If you want to input a password,
			//then replace the above line with:
			//char tempstr[2]={'*','\0'};

			//clear out a rectangle of widthXheight
			setcolor(back);
			setfillstyle(1,back);
			int a[8];
			a[0]=cursor;
			a[1]=y;
			a[2]=cursor+width;
			a[3]=y;
			a[4]=cursor+width;
			a[5]=y+height+1;
			a[6]=cursor;
			a[7]=y+height+1;
			fillpoly(4,a);

			setcolor(fore);
			outtextxy(cursor,y-10,tempstr);
			cursor+=width;
		       }

			if(y+height+10>=400)
			{
			char tempst1r[2];
			cursor=65;y=70;
			setfillstyle(SOLID_FILL,BLUE);
			bar(50,50,600,400);

			}


			if(cursor>=570)
			{
			char tempstr[2];

			for(int h=0;buffer[i-h]!=' ' && i-h>=0;h++);
			if(h>=51)
			{cursor=65;y=y+height+10;h=0;}

			else if(i-h>=0)
			{
				for(int k=0;buffer[i-k]!=' ';k++);

				for(int u=1;buffer[i-k+u]!='\0';u++)
				{
				temp[u]=buffer[i-k+u];

					cursor-=width;

				//clear out a rectangle of widthXheight
					setcolor(back);
					setfillstyle(1,back);
					int a[8];
					a[0]=cursor;
					a[1]=y-10;
					a[2]=cursor+width;
					a[3]=y-10;
					a[4]=cursor+width;
					a[5]=y+height+1;
					a[6]=cursor;
					a[7]=y+height+1;
					fillpoly(4,a);

					setcolor(fore);

				}

				cursor=65-width;
				y=y+height+10;


				setcolor(fore);
				for(int k1=1;u-k1>0;k1++)
				{
				/*buffer[i++]=temp[k1];
				buffer[i]='\0';*/
				tempstr[0]=temp[k1];
				tempstr[1]='\0';

				outtextxy(cursor+width,y-10,tempstr);
				cursor+=width;
				}
			}



			}






		}
		if( ch==8 )	//code for Backspace
		{
			if(i>0)
			{
				buffer[--i]='\0';
				cursor-=width;

				//clear out a rectangle of widthXheight
				setcolor(back);
				setfillstyle(1,back);
				int a[8];
				a[0]=cursor;
				a[1]=y;
				a[2]=cursor+width;
				a[3]=y;
				a[4]=cursor+width;
				a[5]=y+height-10;
				a[6]=cursor;
				a[7]=y+height-10;
				fillpoly(4,a);

				setcolor(fore);
			sound(2000);delay(50);nosound();
			}
		}
		if( ch==27 )	//The Enter key was pressed.
		{ return(0);			//You can put a similar exit
		   break;		//for Esc key (ch==27)
		}
		if(ch==13)
		{
		buffer[i++]='\n';
		cursor=65;
		y=y+height+10;

		}
	}
	setcolor(fore);

}



void inter()
{
setcolor(BLUE);
line(1,260,460,260);
line(1,50,1,260);
line(1,50,460,50);
line(460,50,460,260);

setcolor(WHITE);
setfillstyle(1,WHITE);
bar(463,422,10+50,300);
setcolor(BLACK);

line(10+50,340,400+145,340);
line(10+50,380,400+145,380);
for(int i=0;i<360;)  {
line(100+i,300,100+i,422);   i+=40;}

setcolor(BLACK);
settextstyle(3,0,2);

outtextxy(73,305,"q");
outtextxy(113,305,"w");
outtextxy(153,305,"e");
outtextxy(193,305,"r");
outtextxy(233,305,"t");
outtextxy(273,305,"y");
outtextxy(313,305,"u");
outtextxy(353,305,"i");
outtextxy(393,305,"o");
outtextxy(433,305,"p");

outtextxy(73,345,"a");
outtextxy(113,345,"s");
outtextxy(153,345,"d");
outtextxy(193,345,"f");
outtextxy(233,345,"g");
outtextxy(273,345,"h");
outtextxy(313,345,"j");
outtextxy(353,345,"k");
outtextxy(393,345,"l");
outtextxy(433,345,";");

outtextxy(73,385,"z");
outtextxy(113,385,"x");
outtextxy(153,385,"c");
outtextxy(193,385,"v");
outtextxy(233,385,"b");
outtextxy(273,385,"n");
outtextxy(313,385,"m");
outtextxy(353,385,",");
outtextxy(393,385,".");
outtextxy(433,385,"/");

bar(193-10,405+60,313+25,445);
outtextxy(235,440,"Space");
bar(433+100,380,433+40,335);
outtextxy(478,345,"Enter");
}      void main();

void sidemenu(int ma,int mq,int &fl,int cl)
{                                         int jo=0;
if(ma==635 && mq<=120 && fl==0)
{
setfillstyle(SOLID_FILL,BROWN);
for(int op=0;op<=120;op++)
{bar(632,0,600,op);delay(5);}
setfillstyle(SLASH_FILL,GREEN);
bar(605,0,627,25);
setfillstyle(LINE_FILL,BLUE);
bar(605,35+5,627,60+5);
setfillstyle(BKSLASH_FILL,RED);
bar(605,70+10,627,95+10);
settextstyle(2,0,2);
fl=1;
}

if(fl==1 && ma<=600)
{
mousehide();
setfillstyle(SOLID_FILL,BLACK);
for(int op=120;op>=0;op--)
{bar(600,120,632,op);delay(5);}
fl=0;
callmouse();
}
else if(fl==1)
{
if(ma>605 && ma<627 && mq>0 && mq<25)
{settextstyle(0,0,1);setcolor(BLUE);outtextxy(610,26,"S.B.");setcolor(BROWN);outtextxy(610,66,"FIL.");setcolor(BROWN);outtextxy(610,110,"EXT.");
if(cl==1)
{
cleardevice();setcolor(YELLOW);
if(chk1==1)
{setcolor(RED);settextstyle(0,0,2);outtextxy(200,200,"No Names stored");getch();firstscreen();
}
else
{
ifstream ifile; setbkcolor(BLACK);
ifile.open("c:\\tc\\XII\\proj\\score.txt");ifile.read((char*)&n,sizeof(n));
if(ifile.bad()==0)
while(jo<=n.k)
{
ifile.read((char*)&n,sizeof(n));
it();
jo++;
}
else
{setcolor(BLUE);settextstyle(0,0,1);outtextxy(10,10,"Sorry no names in the file");}
ifile.close();
getch();
}
main();
}
}
if(ma>605 && ma<627 && mq>40 && mq<65)
{settextstyle(0,0,1);setcolor(BROWN);outtextxy(610,26,"S.B.");setcolor(BLUE);outtextxy(610,66,"FIL.");setcolor(BROWN);outtextxy(610,110,"EXT.");
if(cl==1)
{addnew();
main();}
}
if(ma>605 && ma<627 && mq>80 && mq<105)
{settextstyle(0,0,1);setcolor(BROWN);outtextxy(610,26,"S.B.");setcolor(BROWN);outtextxy(610,66,"FIL.");setcolor(BLUE);outtextxy(610,110,"EXT.");
if(cl==1)
exit(0);
}
}

}

void levmen(int &ts,int &s)
{
setcolor(GREEN); settextstyle(3,0,2);
switch(ts)
{
case 0:outtextxy(100,140,"1. Upper keys");break;
case 1:outtextxy(100,180,"2. Middle keys");break;
case 2:outtextxy(100,220,"3. Bottom keys");break;
case 3:outtextxy(100,260,"4. Open your file");break;
case 4:outtextxy(100,300,"5. Exit");break;
}
setcolor(YELLOW);
switch(s)
{
case 0:outtextxy(100,140,"1. Upper keys");break;
case 1:outtextxy(100,180,"2. Middle keys");break;
case 2:outtextxy(100,220,"3. Bottom keys");break;
case 3:outtextxy(100,260,"4. Open your file");break;
case 4:outtextxy(100,300,"5. Exit");break;
}
}

int level()
{   char ch; int ts=-1,s=-1,ma,mq,cl=-1;     cleardevice();
setbkcolor(BLUE);   callmouse();
settextstyle(3,0,2);
setcolor(GREEN);
outtextxy(200,20,"BASIC LEVEL");
outtextxy(100,100,"Enter the level :");
outtextxy(100,140,"1. Upper keys");
outtextxy(100,180,"2. Middle keys");
outtextxy(100,220,"3. Bottom keys");
outtextxy(100,260,"4. Open your file");
outtextxy(100,300,"5. Exit");
//outtextxy(100,260,"4. Make your text file for typing");

while(1)
{
while(kbhit()==0)
{
mouseposi(ma,mq,cl);
if(ma>100 && ma<100+textwidth("1. Upper keys") && mq>140 && mq<140+textheight("1. Upper keys"))
{ts=s;s=0;if(cl==1)return (s+1);}
if(ma>100 && ma<100+textwidth("2. Middle keys") && mq>180 && mq<180+textheight("2. Middle keys"))
{ts=s;s=1;if(cl==1)return (s+1);}
if(ma>100 && ma<100+textwidth("3. Bottom keys") && mq>220 && mq<220+textheight("3. Bottom keys"))
{ts=s;s=2;if(cl==1)return (s+1);}
if(ma>100 && ma<100+textwidth("4. Open your file") && mq>260 && mq<260+textheight("4. Open your file"))
{ts=s;s=3;if(cl==1)return (s+1);}
if(ma>100 && ma<100+textwidth("5. Exit") && mq>300 && mq<300+textheight("5. Exit"))
{ts=s;s=4;if(cl==1)return (s+1);}
if(ts!=s)
levmen(ts,s);
}

ch=getch();
ts=s;
switch(ch)
{
case 'P':s=(s+1)%5;break;
case 'H':s=s--;if(s<0)s=4;break;
}
levmen(ts,s);
if(ch==13)
return (s+1);

}

}

void type(char c,int xc,int yc)
{ setcolor(GREEN);settextstyle(3,0,1);char ch[2];
ch[0]=c;ch[1]='\0';
switch(c)
{
case 'a':outtextxy(xc,yc,ch);break;
case 'b':outtextxy(xc,yc,ch);break;
case 'c':outtextxy(xc,yc,ch);break;
case 'd':outtextxy(xc,yc,ch);break;
case 'e':outtextxy(xc,yc,ch);break;
case 'f':outtextxy(xc,yc,ch);break;
case 'g':outtextxy(xc,yc,ch);break;
case 'h':outtextxy(xc,yc,ch);break;
case 'i':outtextxy(xc,yc,ch);break;
case 'j':outtextxy(xc,yc,ch);break;
case 'k':outtextxy(xc,yc,ch);break;
case 'l':outtextxy(xc,yc,ch);break;
case 'm':outtextxy(xc,yc,ch);break;
case 'n':outtextxy(xc,yc,ch);break;
case 'o':outtextxy(xc,yc,ch);break;
case 'p':outtextxy(xc,yc,ch);break;
case 'q':outtextxy(xc,yc,ch);break;
case 'r':outtextxy(xc,yc,ch);break;
case 's':outtextxy(xc,yc,ch);break;
case 't':outtextxy(xc,yc,ch);break;
case 'u':outtextxy(xc,yc,ch);break;
case 'v':outtextxy(xc,yc,ch);break;
case 'w':outtextxy(xc,yc,ch);break;
case 'x':outtextxy(xc,yc,ch);break;
case 'y':outtextxy(xc,yc,ch);break;
case 'z':outtextxy(xc,yc,ch);break;
case ';':outtextxy(xc,yc,ch);break;
case ',':outtextxy(xc,yc,ch);break;
case '.':outtextxy(xc,yc,ch);break;
case '/':outtextxy(xc,yc,ch);break;
case ' ':outtextxy(xc,yc,ch);break;
case '\n':yc+=20;break;
default:setcolor(RED);outtextxy(xc,yc,ch);break;
}
}


int basics()
{
clrscr();    int t;


t=level();
setbkcolor(BLACK);cleardevice();

char ch=1,f[16000],n[2],bg[200];

int j=0,tm=0,i=0,xc=10,yc=50,no;

ifstream ifile;
switch(t)
{
case 1:ifile.open("c:\\tc\\XII\\proj\\upper.txt");break;
case 2:ifile.open("c:\\tc\\XII\\proj\\middle.txt");break;
case 3:ifile.open("c:\\tc\\XII\\proj\\bottom.txt");break;
case 4:cout<<"\n\nEnter the file name.: ";gets(bg);ifile.open(bg);break;
default:return 0;
}
char cv[2],ck;
int px,py;
cleardevice();setbkcolor(BLACK);

i=0;   char tf;

do
{
f[i]=ifile.get();
i++;
f[i]='\0';
}while(f[i-1]>=97 && f[i-1]<=122 || f[i-1]==32 || f[i-1]==13);

i=0;

char n1[2];

u:
mousehide();
cleardevice();
settextstyle(3,0,2);
setcolor(RED);
outtextxy(500,200,"Esc - Exit");
switch(t)
{
case 1:outtextxy(200,10,"Upper Level");break;
case 2:outtextxy(200,10,"Middle Level");break;
case 3:outtextxy(200,10,"Lower Level");break;
case 4:outtextxy(200,10,"Your File");break;
}

px=10;py=50;
setcolor(WHITE);
settextstyle(3,0,1);

while(f[i]!='\0')
{n[0]=f[i];n[1]='\0';

if(f[i]=='\n')
{py+=20;px=10;}

else
{outtextxy(px,py,n);px+=10;}
if(px==450)
{px=10;py+=20;}

if(py==250)break;
i++;

}
for(j=0;;j++)
if(f[j]=='\0')
{no=j;break;}

j=0;

 inter();
     px=10;py=50;

while(j<=no-2)
{
setfillstyle(1,YELLOW);
switch(f[j])
{
case 'a':bar(61,342,99,379);setcolor(BLACK);outtextxy(73,345,"a");break;
case 's':bar(101,342,139,379);setcolor(BLACK); outtextxy(113,345,"s"); break;
case 'd':bar(141,342,179,379);setcolor(BLACK); outtextxy(153,345,"d"); break;
case 'f':bar(181,342,219,379);setcolor(BLACK); outtextxy(193,345,"f"); break;
case 'g':bar(221,342,259,379);setcolor(BLACK); outtextxy(233,345,"g"); break;
case 'h':bar(261,342,299,379);setcolor(BLACK); outtextxy(273,345,"h"); break;
case ' ':bar(193-10,405+60,313+25,445);outtextxy(235,440,"Space");if(ch==' ' && tm==0){type(ch,xc,yc);xc+=10;}break;
case 'j':bar(301,342,339,379);setcolor(BLACK); outtextxy(313,345,"j");break;
case 'k':bar(341,342,379,379);setcolor(BLACK); outtextxy(353,345,"k");break;
case 'l':bar(381,342,419,379);setcolor(BLACK); outtextxy(393,345,"l");break;
case ';':bar(421,342,459,379);setcolor(BLACK); outtextxy(433,345,";");break;
case 'q':bar(61,301,99,339);setcolor(BLACK); outtextxy(73,305,"q");   break;
case 'w':bar(101,301,138,339);setcolor(BLACK); outtextxy(113,305,"w");break;
case 'e':bar(141,301,178,339);setcolor(BLACK); outtextxy(153,305,"e");break;
case 'r':bar(181,301,218,339);setcolor(BLACK); outtextxy(193,305,"r");break;
case 't':bar(221,301,258,339);setcolor(BLACK); outtextxy(233,305,"t");break;
case 'y':bar(261,301,298,339);setcolor(BLACK); outtextxy(273,305,"y");break;
case 'u':bar(301,301,338,339);setcolor(BLACK); outtextxy(313,305,"u");break;
case 'i':bar(341,301,378,339);setcolor(BLACK); outtextxy(353,305,"i");break;
case 'o':bar(381,301,418,339);setcolor(BLACK); outtextxy(393,305,"o");break;
case 'p':bar(421,301,462,339);setcolor(BLACK); outtextxy(433,305,"p");break;
case 'z':bar(60,382,99,422);setcolor(BLACK); outtextxy(73,385,"z");   break;
case 'x':bar(102,382,139,422);setcolor(BLACK); outtextxy(113,385,"x");break;
case 'c':bar(142,382,179,422);setcolor(BLACK); outtextxy(153,385,"c");break;break;
case 'v':bar(182,382,219,422);setcolor(BLACK); outtextxy(193,385,"v");break;break;
case 'b':bar(222,382,259,422);setcolor(BLACK); outtextxy(233,385,"b");break;
case 'n':bar(262,382,299,422);setcolor(BLACK); outtextxy(273,385,"n");break;
case 'm':bar(302,382,339,422);setcolor(BLACK); outtextxy(313,385,"m");break;
case ',':bar(342,382,379,422);setcolor(BLACK); outtextxy(353,385,",");break;
case '.':bar(382,382,419,422);setcolor(BLACK); outtextxy(393,385,".");break;
case '/':bar(422,382,461,422);setcolor(BLACK); outtextxy(433,385,"/");break;
case '\n':bar(433+100,380,433+40,335);setcolor(BLACK); outtextxy(478,345,"Enter");break;
}
setfillstyle(1,WHITE);
switch(tf)
{
case 'a':bar(61,342,99,379);setcolor(BLACK);outtextxy(73,345,"a");break;
case 's':bar(101,342,139,379);setcolor(BLACK); outtextxy(113,345,"s");break;
case 'd':bar(141,342,179,379);setcolor(BLACK); outtextxy(153,345,"d");break;
case 'f':bar(181,342,219,379);setcolor(BLACK); outtextxy(193,345,"f");break;
case 'g':bar(221,342,259,379);setcolor(BLACK); outtextxy(233,345,"g");break;
case 'h':bar(261,342,299,379);setcolor(BLACK); outtextxy(273,345,"h");break;
case ' ':bar(193-10,405+60,313+25,445);outtextxy(235,440,"Space");if(ch==' ' && tm==0){type(ch,xc,yc);xc+=10;}break;
case 'j':bar(301,342,339,379);setcolor(BLACK); outtextxy(313,345,"j");break;
case 'k':bar(341,342,379,379);setcolor(BLACK); outtextxy(353,345,"k");break;
case 'l':bar(381,342,419,379);setcolor(BLACK); outtextxy(393,345,"l");break;
case ';':bar(421,342,459,379);setcolor(BLACK); outtextxy(433,345,";");break;break;
case 'q':bar(61,301,99,339);setcolor(BLACK); outtextxy(73,305,"q");   break;
case 'w':bar(101,301,138,339);setcolor(BLACK); outtextxy(113,305,"w");break;
case 'e':bar(141,301,178,339);setcolor(BLACK); outtextxy(153,305,"e");break;
case 'r':bar(181,301,218,339);setcolor(BLACK); outtextxy(193,305,"r");break;
case 't':bar(221,301,258,339);setcolor(BLACK); outtextxy(233,305,"t");break;
case 'y':bar(261,301,298,339);setcolor(BLACK); outtextxy(273,305,"y");break;
case 'u':bar(301,301,338,339);setcolor(BLACK); outtextxy(313,305,"u");break;
case 'i':bar(341,301,378,339);setcolor(BLACK); outtextxy(353,305,"i");break;
case 'o':bar(381,301,418,339);setcolor(BLACK); outtextxy(393,305,"o");break;
case 'p':bar(421,301,462,339);setcolor(BLACK); outtextxy(433,305,"p");break;
case 'z':bar(60,382,99,422);setcolor(BLACK); outtextxy(73,385,"z");   break;
case 'x':bar(102,382,139,422);setcolor(BLACK); outtextxy(113,385,"x");break;
case 'c':bar(142,382,179,422);setcolor(BLACK); outtextxy(153,385,"c");break;
case 'v':bar(182,382,219,422);setcolor(BLACK); outtextxy(193,385,"v");break;
case 'b':bar(222,382,259,422);setcolor(BLACK); outtextxy(233,385,"b");break;
case 'n':bar(262,382,299,422);setcolor(BLACK); outtextxy(273,385,"n");break;
case 'm':bar(302,382,339,422);setcolor(BLACK); outtextxy(313,385,"m");break;
case ',':bar(342,382,379,422);setcolor(BLACK); outtextxy(353,385,",");break;
case '.':bar(382,382,419,422);setcolor(BLACK); outtextxy(393,385,".");break;
case '/':bar(422,382,461,422);setcolor(BLACK); outtextxy(433,385,"/");break;
case '\n':bar(433+100,380,433+40,335);setcolor(BLACK); outtextxy(478,345,"Enter");break;
}


if(ch==27)
{cleardevice();return 0;}

ch=getch();//tm=0;


if(ch==f[j] || (f[j]=='\n' && ch==13))
{
settextstyle(3,0,1);
n1[0]=f[j];
n1[1]='\0';
setcolor(GREEN);

if(f[j]=='\n')
{px=10;py+=20;}
else
{
outtextxy(px,py,n1);px+=10;
}
tf=f[j];j++;

if(px==450)
{px=10;py+=20;}

if(py==250)
goto u;

}
}

if(j==no-1)
{setbkcolor(CYAN);cleardevice(); settextstyle(3,0,4);setcolor(GREEN);
outtextxy(50,100,"Course completed");
}

getch();

}


void main()
{
ofstream o;
o.open("c:\\tc\\XII\\proj\\score.txt");
o.close();
//1 fun
int detect=DETECT,mode;
initgraph(&detect,&mode,"c:\\tc\\bgi");
firstscreen();
r:
const int style=TRIPLEX_FONT,size=5;
mousehide();
cleardevice();setbkcolor(BLACK);
int xx,yy,mi,txx,tyy,ii,jj,j,rd[201][2],l=0,k=0,p=1,ma,mq;
setbkcolor(BLACK);

randomize();

for(mi=1;mi<=7;mi++,l=l+30,k=15)
{
for(ii=150;ii>=20;ii-=10)
{
setcolor(ii+mi);
for(jj=0;jj<=100;jj++)
{
xx=rand()%(ii)+100+l;
yy=rand()%(ii)+200-k;
rd[jj][0]=xx;
rd[jj][1]=yy;
outtextxy(xx,yy,".");
}
//outtextxy(x,y,"L");
delay(80);
setcolor(BLACK);
for(jj=0;jj<=100;jj++)
outtextxy(rd[jj][0],rd[jj][1],".");

}  sound(ii+300);
settextstyle(1,0,2);
setcolor(ii+mi+10);
if(mi==1)
outtextxy(100,200,"L");
if(mi==2)
outtextxy(130,200,"O");
if(mi==3)
outtextxy(160,200,"A");
if(mi==4)
outtextxy(190,200,"D");
if(mi==5)
outtextxy(220,200,"I");
if(mi==6)
outtextxy(250,200,"N");
if(mi==7)
outtextxy(280,200,"G");
}
nosound();
delay(100);


for(ii=0;ii<=150;ii+=10)
{setcolor(ii);

for(jj=0;jj<=200;jj++)
{sound(ii-jj+400);
xx=rand()%(180+ii)+100;
yy=rand()%(30+ii)+200-ii;
rd[jj][0]=xx;
rd[jj][1]=yy;
outtextxy(xx,yy,".");
}               delay(30);
setcolor(BLACK);
for(jj=0;jj<=100;jj++)
outtextxy(rd[jj][0],rd[jj][1],".");
}

cleardevice();
setcolor(BLUE);
outtextxy(200,300,"LOADED");delay(200);nosound();
cleardevice();

//2 fun

s:
settextjustify(100,100);
setbkcolor(BLACK);clrscr();cleardevice();
//style=TRIPLEX_FONT;
settextstyle(TRIPLEX_FONT, HORIZ_DIR, 5);
setcolor(WHITE);

{
sound(311.1);
delay(200);

sound(370);
delay(200);

sound(440);

delay(200);

sound(261.6);
delay(200);

sound(493.9);
delay(200);

sound(415.3);
delay(200);

sound(370);
delay(200);

sound(293.7);
delay(200);

sound(523.2);
delay(200);

nosound();
}
outtextxy(120,70,"ABC TYPING");
setcolor(BLUE);                int tste;
circle(250,250,220);
setcolor(YELLOW);
settextstyle(style, HORIZ_DIR,2);
for(int ste=0;ste<=6;ste++)
{
settextstyle(style,0,8-tste);
setcolor(BLACK);
outtextxy(280,120,"1.BASICS");

settextstyle(style,0,8-ste);
setcolor(BLUE);
outtextxy(280,120,"1.BASICS");
delay(300);                        setcolor(BLUE);circle(250,250,220);
if(kbhit()!=0)
{settextstyle(style,0,8-ste);
setcolor(BLACK);
outtextxy(280,120,"1.BASICS");goto c;}

tste=ste;
}   tste=0;
setcolor(BLUE);
circle(250,250,220);
for(ste=0;ste<=6;ste++)
{
settextstyle(style,0,8-tste);
setcolor(BLACK);
outtextxy(343,170,"2.GAME");
settextstyle(style,0,8-ste);
setcolor(GREEN);
outtextxy(343,170,"2.GAME");
delay(300);                                  setcolor(BLUE);circle(250,250,220);
if(kbhit()!=0)
{settextstyle(style,0,8-ste);
setcolor(BLACK);
outtextxy(343,170,"2.GAME");goto  c; }

tste=ste;
}   tste=0;
setcolor(BLUE);
circle(250,250,220);

for(ste=0;ste<=6;ste++)
{
settextstyle(style,0,8-tste);
setcolor(BLACK);
outtextxy(360,230,"3.SPEED");
settextstyle(style,0,8-ste);
setcolor(MAGENTA);
outtextxy(360,230,"3.SPEED");
delay(300);                             setcolor(BLUE);circle(250,250,220);
if(kbhit()!=0)
{settextstyle(style,0,8-ste);
setcolor(BLACK);
outtextxy(360,230,"3.SPEED");goto c;}

tste=ste;
}   tste=0;
setcolor(BLUE);
circle(250,250,220);
setcolor(CYAN);
outtextxy(330,305,"4.EXIT");
		        tste=0;
for(ste=0;ste<=180;ste++)
{setcolor(BLACK);arc(250,250,-240+tste,-90+tste,100);setcolor(YELLOW);arc(250,250,-240+ste,-90+ste,100);delay(20);tste=ste;
if(kbhit()!=0)
{setcolor(BLACK);arc(250,250,-240+ste,-90+ste,100);goto c;}
}
for(j=0;j<250;j++)
{setcolor(BLUE); delay(5);
circle(250,250,220+j);if(kbhit()!=0)goto c;}

for(j=0;j<250;j++)
{setcolor(RED); delay(5);
circle(250,250,220+2*j+1);if(kbhit()!=0)
goto c;}

c:
setcolor(BLUE);
circle(250,250,220);
settextstyle(style,0,2);
setcolor(CYAN);
outtextxy(330,305,"4.EXIT");
		        tste=0;

setcolor(BLUE);
circle(250,250,219);
setcolor(YELLOW);
arc(250,250,-240+180,-90+180,100);
settextstyle(style, HORIZ_DIR,2);
 setcolor(BLUE);
outtextxy(280,120,"1.BASICS");
setcolor(GREEN);
outtextxy(343,170,"2.GAME");
setcolor(MAGENTA);
outtextxy(360,230,"3.SPEED");
setcolor(CYAN);
outtextxy(330,305,"4.EXIT");
if(kbhit()!=0){
for(j=0;j<250;j++)
{setcolor(BLUE);
circle(250,250,220+j);}
for(j=0;j<250;j++)
{setcolor(RED);
circle(250,250,220+2*j+1);
}              }
 char ui;
if(kbhit()!=0)
ui=getch();

int fl=0;
setfillstyle(SOLID_FILL,BLACK);
bar(632,0,600,120);
setfillstyle(1,BROWN);
pieslice(250,250,0,360,98);
callmouse();

//3 fun
char ch='d',t; int s=-1,i=0,ts=-1,cl;    callmouse();
f:while(i==0)
{
while(kbhit()==0)
{
mouseposi(ma,mq,cl);

if(ma>280 && ma<280+textwidth("1.BASICS") && mq>120 && mq<120+textheight("1.BASICS"))
{ts=s;s=0;if(cl==1)
goto ml;}

if(ma>343 && ma<343+textwidth("2.GAME") && mq>170 && mq<170+textheight("2.GAME"))
{ts=s;s=1;if(cl==1)
goto ml;}

if(ma>360 && ma<360+textwidth("3.SPEED") && mq>230 && mq<230+textheight("3.SPEED"))
{
ts=s;s=2;
if(cl==1)
goto ml;
}

if(ma>330 && ma<330+textwidth("4.EXIT") && mq>305 && mq<305+textheight("4.EXIT"))
{
ts=s;s=3;
if(cl==1)
goto ml;
}

sidemenu(ma,mq,fl,cl);

menu(s,ts);

}
if(s==-1)
s=0;
ch=getch();
switch(ch)
{
case 'P':
ts=s;s=(s+1)%4;
break;
case 'H':
ts=s;s=s--;if(s<0)s=3;
break;
}
menu(s,ts);
if(ch=='+')
{credits();goto s;}

if(ch==13 && s!=1)
break;

if(ch==27)
{mousehide();cleardevice();clrscr();firstscreen();cleardevice();clrscr();goto r;}
t=ch;
}
ml:
if(s==0)
{mousehide();load();cleardevice();basics();callmouse();goto s;}
if(s==1)
{mousehide();load();cleardevice();game();callmouse();goto s;}
if(s==2)
{mousehide();load();cleardevice();speed();callmouse();goto s;}

//Exit
   int i1=3,y,ti,ty,m=1,x,tm;

if(s==3)
{   mousehide();  cleardevice();
for(i1=0;i1<300;i1++)     {delay(20);
{
settextstyle(5,0,5);
setcolor(BLACK);
outtextxy(ti+9,ti-5,"K");
settextstyle(5,0,5);
setcolor(BLUE);
outtextxy(i1+9,i1-5,"K");
 sound(i1+1+100);
setcolor(BLACK);
settextstyle(4,0,5);
outtextxy(400-ti,ti,"T");
setcolor(GREEN);
settextstyle(4,0,5);
outtextxy(400-i1,i1,"T");
 sound(i1*2+100);
settextstyle(1,0,5);
setcolor(BLACK);
outtextxy(140,ti,"H");
setcolor(CYAN);
settextstyle(1,0,5);
outtextxy(140,i1,"H");

if(400-i1>=300)
{
settextstyle(1,0,5);
setcolor(BLACK);
outtextxy(170,400-ti,"E");
setcolor(RED);
settextstyle(1,0,5);
outtextxy(170,400-i1,"E");
}
 sound(i1*3+100);
if(i1<=200)
{
settextstyle(1,0,5);
setcolor(BLACK);
outtextxy(ti,300,"J");
setcolor(YELLOW);
settextstyle(1,0,5);
outtextxy(i1,300,"J");
if(430-i1<330)
{setcolor(RED);
settextstyle(1,0,5);
outtextxy(170,300,"E");}
}
	    sound(i1*4+100);
if(400-i1>=220)
{
settextstyle(1,0,5);
setcolor(BLACK);
outtextxy(400-ti,300,"A");
setcolor(MAGENTA);
settextstyle(1,0,5);
outtextxy(400-i1,300,"A");
}

if(i1<=340){
settextstyle(1,0,5);
setcolor(BLACK);
outtextxy(250,ti,"S");
setcolor(LIGHTCYAN);
settextstyle(1,0,5);
outtextxy(250,i1,"S");
}

if(400-i1>=300)
{
settextstyle(1,0,5);
setcolor(BLACK);
outtextxy(275,400-ti,"S");
setcolor(LIGHTRED);
settextstyle(1,0,5);
outtextxy(275,400-i1,"S");
}                  sound(i1*3+100);
if(i1>100){
/*settextstyle(1,0,5);
setcolor(BLACK);
outtextxy(300,ti,"S"); */
setcolor(LIGHTRED);
settextstyle(1,0,5);
outtextxy(275,300,"S");
}

ti=i1;
outtextxy(300,300,".");
}
outtextxy(130,130,"MADE BY");
sound(i1+900);
}

nosound();

getch();  firstscreen();goto r;
exit(0);
}

getch();
}

